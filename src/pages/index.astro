---
import { Font } from 'astro:assets'
import Layout from '@/components/layout.astro'
import { Preview } from '@/features/preview'

export const prerender = false

// Get user timezone from Vercel geolocation header (e.g., "Asia/Tokyo", "America/New_York")
const timezone = Astro.request.headers.get('X-Vercel-IP-Timezone')
---

<Layout class="bg-zinc-950 min-h-screen flex justify-center items-center md:p-6 transition-colors">
	<Fragment slot="head">
		<Font cssVariable="--font-sans" preload />
		<Font cssVariable="--font-mono" preload />
		<Font cssVariable="--font-zen" preload />
	</Fragment>
	<Preview client:load timezone={timezone} />
</Layout>
